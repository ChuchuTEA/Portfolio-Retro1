import{useRouter as t,usePathname as e}from"next/navigation";import{useMemo as r}from"react";import o from"../../react-client/useLocale.js";import{localizeHref as n}from"../../shared/utils.js";import c from"../shared/syncLocaleCookie.js";import{getBasePath as s}from"../shared/utils.js";function a(){const a=t(),i=o(),p=e();return r((()=>{function t(t,e){let r=window.location.pathname;const o=s(p);return o&&(r=r.replace(o,"")),n(t,e||i,i,r)}function e(e){return function(r,o){const{locale:n,...s}=o||{};c(p,i,n);const a=[t(r,n)];return Object.keys(s).length>0&&a.push(s),e(...a)}}return{...a,push:e(a.push),replace:e(a.replace),prefetch:e(a.prefetch)}}),[i,p,a])}export{a as default};
