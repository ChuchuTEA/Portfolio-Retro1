"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../_virtual/_rollupPluginBabelHelpers.js"),r=require("react"),a=require("../../react-client/useLocale.js"),t=require("../shared/utils.js"),n=require("./ClientLink.js"),l=require("./clientPermanentRedirect.js"),o=require("./clientRedirect.js"),u=require("./useBasePathname.js"),c=require("./useBaseRouter.js");function i(e){return e&&e.__esModule?e:{default:e}}var s=i(r);exports.default=function(i){function f(){const e=a.default();if(!i.locales.includes(e))throw new Error(void 0);return e}function h(r,a){let{href:l,locale:o,...u}=r;const c=f(),h=o||c;return s.default.createElement(n.default,e.extends({ref:a,href:t.compileLocalizedPathname({locale:h,pathname:l,params:"object"==typeof l?l.params:void 0,pathnames:i.pathnames}),locale:o,localePrefix:i.localePrefix},u))}const d=r.forwardRef(h);function p(e){let{href:r,locale:a}=e;return t.compileLocalizedPathname({...t.normalizeNameOrNameWithParams(r),locale:a,pathnames:i.pathnames})}return d.displayName="Link",{Link:d,redirect:function(e){const r=p({href:e,locale:f()});for(var a=arguments.length,t=new Array(a>1?a-1:0),n=1;n<a;n++)t[n-1]=arguments[n];return o.default({...i,pathname:r},...t)},permanentRedirect:function(e){const r=p({href:e,locale:f()});for(var a=arguments.length,t=new Array(a>1?a-1:0),n=1;n<a;n++)t[n-1]=arguments[n];return l.default({...i,pathname:r},...t)},usePathname:function(){const e=u.default(),r=f();return e?t.getRoute({pathname:e,locale:r,pathnames:i.pathnames}):e},useRouter:function(){const e=c.default(),r=f();return{...e,push(a){for(var t,n=arguments.length,l=new Array(n>1?n-1:0),o=1;o<n;o++)l[o-1]=arguments[o];const u=p({href:a,locale:(null===(t=l[0])||void 0===t?void 0:t.locale)||r});return e.push(u,...l)},replace(a){for(var t,n=arguments.length,l=new Array(n>1?n-1:0),o=1;o<n;o++)l[o-1]=arguments[o];const u=p({href:a,locale:(null===(t=l[0])||void 0===t?void 0:t.locale)||r});return e.replace(u,...l)},prefetch(a){for(var t,n=arguments.length,l=new Array(n>1?n-1:0),o=1;o<n;o++)l[o-1]=arguments[o];const u=p({href:a,locale:(null===(t=l[0])||void 0===t?void 0:t.locale)||r});return e.prefetch(u,...l)}}},getPathname:p}};
