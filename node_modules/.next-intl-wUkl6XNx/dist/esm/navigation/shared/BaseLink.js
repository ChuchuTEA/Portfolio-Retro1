'use client';
import{extends as e}from"../../_virtual/_rollupPluginBabelHelpers.js";import r from"next/link";import{usePathname as o}from"next/navigation";import t,{forwardRef as n,useState as i,useEffect as l}from"react";import c from"../../react-client/useLocale.js";import{isLocalHref as a,prefixHref as p,localizeHref as s}from"../../shared/utils.js";import f from"./syncLocaleCookie.js";function m(n,m){let{href:h,locale:u,localePrefix:d,onClick:k,prefetch:v,...x}=n;const L=o(),g=c(),j=u!==g,[C,y]=i((()=>a(h)&&("never"!==d||j)?p(h,u):h));return l((()=>{L&&y(s(h,u,g,L))}),[g,h,u,L]),j&&(v&&console.error("The `prefetch` prop is currently not supported when using the `locale` prop on `Link` to switch the locale.`"),v=!1),t.createElement(r,e({ref:m,href:C,hrefLang:j?u:void 0,onClick:function(e){f(L,g,u),k&&k(e)},prefetch:v},x))}const h=n(m);h.displayName="ClientLink";var u=h;export{u as default};
