import{headers as t}from"next/headers";import{notFound as e}from"next/navigation";import{cache as n}from"react";import{HEADER_LOCALE_NAME as o}from"../../shared/constants.js";const r=n((function(){let n;try{n=t().get(o)}catch(t){throw t instanceof Error&&"DYNAMIC_SERVER_USAGE"===t.digest?new Error("Usage of next-intl APIs in Server Components currently opts into dynamic rendering. This limitation will eventually be lifted, but as a stopgap solution, you can use the `unstable_setRequestLocale` API to enable static rendering, see https://next-intl-docs.vercel.app/docs/getting-started/app-router-server-components#static-rendering",{cause:t}):t}return n||e(),n}));const i=n((function(){return{locale:void 0}}));function s(t){i().locale=t}function a(){return i().locale||r()}export{a as getRequestLocale,s as setRequestLocale};
